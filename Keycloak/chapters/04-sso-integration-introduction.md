# 04. SSO 集成简介

单点登录（SSO）是一种认证方法，允许用户通过一次登录便可访问多个应用程序。在现代身份认证系统中，SAML 和 OIDC 是最常见的协议，它们分别适用于不同的场景。以下是这两种协议的概述。

## SAML（Security Assertion Markup Language）

SAML 是一种基于 XML 的认证协议，主要用于企业级单点登录（SSO）解决方案。它允许用户在身份提供者（IdP）和服务提供者（SP）之间进行身份验证和授权交换。

### 适用场景：

- **传统应用**：SAML 协议广泛应用于传统企业应用，尤其是在与遗留系统集成时。
- **云服务**：许多大型云服务平台（如 AWS、GCP）都支持 SAML，用于企业级身份验证。
- **跨域认证**：SAML 支持跨多个域进行身份验证，是在多种服务之间共享认证的理想选择。

SAML 的一个优势是它提供了强大的安全性，适用于需要处理复杂权限和安全策略的环境。然而，它的实现较为复杂，通常需要较长的配置和调试时间。

## OIDC（OpenID Connect）

OIDC 是基于 OAuth 2.0 协议的身份认证协议，旨在简化现代 Web 应用程序和移动应用的身份认证过程。它允许客户端应用程序验证用户的身份，并获取有关用户的基本信息。

### 适用场景：

- **SAML**：适合传统企业应用、遗留系统和需要强认证的云服务。其复杂的配置和较重的协议更适用于大规模、企业级环境。常见的应用场景包括：
  - **云服务**：AWS、GCP、Azure 等云平台支持 SAML 用于企业级身份验证。
  - **ERP 系统**：如 SAP、Oracle ERP 系统常用 SAML 实现 SSO。
  - **企业内部应用**：如企业自建的内部管理系统，或者与 Active Directory 集成的应用。

- **OIDC**：适用于 Web 应用、移动应用和现代应用，尤其在微服务架构和 OAuth 2.0 配合使用时表现出色。典型应用包括：
  - **企业应用**：GitLab（企业版）、Harbor（私有镜像仓库）、Vault（用于密钥管理）等支持 OIDC 作为身份认证和授权的方式。
  - **监控和数据可视化**：Grafana，利用 OIDC 作为身份认证机制来简化用户管理。
  - **现代 Web 和移动应用**：如跨平台应用、单页面应用（SPA）等，OIDC 提供了便捷的用户身份验证机制。

- **Web 和移动应用**：OIDC 特别适用于 Web 和移动应用，尤其是需要轻量级、灵活的身份验证解决方案时。
- **现代应用程序**：OIDC 简单易用，非常适合现代的 RESTful API 和微服务架构。
- **与 OAuth 集成**：OIDC 可以与 OAuth 2.0 配合使用，在授权过程中不仅验证用户身份，还能授权访问特定资源。

OIDC 的优势在于其简洁的实现和更高的扩展性，尤其适用于云原生应用和微服务架构。它与 SAML 相比，通常配置更加简单，适合快速集成和扩展。

根据具体应用场景选择合适的协议，可以更好地满足企业的身份认证需求和用户体验。
